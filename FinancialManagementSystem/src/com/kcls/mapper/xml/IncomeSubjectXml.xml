<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="com.kcls.mapper.IncomeSubjectMapper">

	<insert id="insert"  parameterType="com.kcls.bean.IncomeSubjectBean">
		
		insert  into kcls_2017_incomeCourse  (course_id,fatherCourse_id,course_name,course_remark,create_name,create_date) value
		
		( #{course_id},#{fatherCourse_id},#{course_name},#{course_remark},#{create_name},#{create_date})
	
	</insert>
	
	
	<select id="select"  parameterType="com.kcls.bean.Page"  resultType="com.kcls.bean.IncomeSubjectBean">
			 
		<![CDATA[
			 select *,(SELECT  course_name   from kcls_2017_incomeCourse   s2  where  s1.fatherCourse_id=s2.course_id  ) as  fatherCourse_name  from   kcls_2017_incomeCourse s1 where 1=1
		]]>
		<include refid="list_sql"></include>
		<if test="pageNumber != null and pageSize != null">
			 limit #{pageNumber},#{pageSize}
		</if>
		
	</select>
	
	
	
	<sql id="list_sql">
		<if test="searchText != null">
			<if test="searchText != ''">
				<![CDATA[
					and fatherCourse_id = #{searchText}
				]]>
			</if>
		</if>
	</sql>
	
	
	
	
	<select id="selectCount"  parameterType="com.kcls.bean.Page"  resultType="java.lang.Integer" >
	
		 select count(*) from   kcls_2017_incomeCourse    where 1=1
		 
		 <include refid="list_sql"></include>
	
	</select>
	
	
	
	 
</mapper>