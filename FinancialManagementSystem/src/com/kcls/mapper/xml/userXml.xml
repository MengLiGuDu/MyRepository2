<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="com.kcls.mapper.UserMapper">

	<select id="selectUserCount" parameterType="com.kcls.bean.Page" resultType="com.kcls.bean.UserBean">
		select * from kcls_2017_user where user_name like concat('%',#{searchText},'%') 
	</select>
	<select id="selectUser" parameterType="com.kcls.bean.Page" resultType="com.kcls.bean.UserBean">
		select * from kcls_2017_user where user_name like concat('%',#{searchText},'%') limit #{pageNumber},#{pageSize}
	</select>
	<delete id="deleteUser" parameterType="com.kcls.bean.UserBean">
		delete from  kcls_2017_user where user_id = #{user_id};
	</delete>
	<update id="updateUser" parameterType="com.kcls.bean.UserBean">
		update kcls_2017_user set user_name = #{user_name},password = #{password},phone = #{phone},
		sex = #{sex},age = #{age},state = #{state} where user_id = #{user_id};
	</update>
	<insert id="insertUser" parameterType="com.kcls.bean.UserBean">
		insert into kcls_2017_user(user_id,user_name,password,phone,sex,age,state,create_time) 
		values(#{user_id},#{user_name},#{password},#{phone},#{sex},#{age},#{state},#{create_time});
	</insert>
	<select id="selectJudgeUser" parameterType="com.kcls.bean.UserBean" resultType="com.kcls.bean.UserBean">
		select * from kcls_2017_user where user_id = #{user_id};
	</select>
	<select id="judgeUserName" parameterType="com.kcls.bean.UserBean" resultType="java.lang.Integer">
		select count(*) from kcls_2017_user where user_name = #{user_name}
	</select>
	<select id="judgePassword" parameterType="com.kcls.bean.UserBean" resultType="java.lang.Integer">
		select count(*) from kcls_2017_user where user_name = #{user_name} and password = #{password}
	</select>
	<select id="selectJudgeName" parameterType="com.kcls.bean.UserBean" resultType="com.kcls.bean.UserBean">
		select * from kcls_2017_user where user_name = #{user_name};
	</select>
</mapper>